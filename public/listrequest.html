<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thammasat University</title>
    <link rel="stylesheet" href="./style/stylelistrequest.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=K2D:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&family=Sarabun:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&family=Trirong:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
    </style>
</head>
<body>
    <header class="header">
        <img src="./image/Emblem_of_Thammasat_University.svg.png" alt="Thammasat University Logo" class="logo">
        <h1>มหาวิทยาลัยธรรมศาสตร์<br>THAMMASAT UNIVERSITY</h1>
    </header>
    <div class="container">
        <nav class="sidebar">
            <ul>
                <a href="home.html"><li id="home-nav">หน้าแรก</li></a>
                <a id="dynamicLink" href="request0.html">
                    <li id="req1-nav">การเขียนคำร้อง</li>
                </a>
                <a href="listrequest.html"><li id="list-nav">รายการคำร้อง</li></a>
            </ul>
            <div class="logout-container">
                <li id="logout-nav">ออกจากระบบ</li>
            </div>
        </nav>
        <div class="main-content">
            <div class="fixable">
                <h3>รายการคำร้อง</h3>
            </div>
            <div class="draft">
                <div class="section">
                    <div class="dropdown">
                        <p class="toggle">
                            คำร้องขอจดทะเบียนล่าช้า
                            <span class="arrow">&#9660;</span> <!-- ลูกศรแสดงสถานะ -->
                        </p>
                        <table id="studentTable1" class="hidden styled-table">
                            <tbody>
                                <!-- ข้อมูลจะถูกใส่ที่นี่ -->
                            </tbody>
                        </table>
                    </div>
                    <div class="dropdown">
                        <p class="toggle">
                            คำร้องขอเพิกถอน
                            <span class="arrow">&#9660;</span>
                        </p>
                        <table id="studentTable2" class="hidden styled-table">
                            <tbody>
                                <!-- ข้อมูลจะถูกใส่ที่นี่ -->
                            </tbody>
                        </table>
                    </div>
                    <div class="dropdown">
                        <p class="toggle">
                            คำร้องขอขาดสอบ
                            <span class="arrow">&#9660;</span>
                        </p>
                        <table id="studentTable3" class="hidden styled-table">
                            <tbody>
                                <!-- ข้อมูลจะถูกใส่ที่นี่ -->
                            </tbody>
                        </table>
                    </div>
                    <div class="dropdown">
                        <p class="toggle">
                            คำร้องขอลาป่วยหรือลากิจ
                            <span class="arrow">&#9660;</span>
                        </p>
                        <table id="studentTable4" class="hidden styled-table">
                            <tbody>
                                <!-- ข้อมูลจะถูกใส่ที่นี่ -->
                            </tbody>
                        </table>
                    </div>
                </div>  
            </div>
        </div>
    </div>
    <script src="./js/listrequest.js"></script>
    <script src="./js/request.js"></script>
    <script src="./js/sessionUtils.js"></script>
    <script src="./js/auth.js"></script>
    <script src="./js/requestHome.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
          sessionManager.preventBackAfterLogout();
        });

        document.addEventListener('DOMContentLoaded', () => {
            const toggles = document.querySelectorAll('.toggle');

            toggles.forEach(toggle => {
                toggle.addEventListener('click', () => {
                    const table = toggle.nextElementSibling;
                    const arrow = toggle.querySelector('.arrow');

                    // สลับการเปิด/ปิดตาราง
                    table.classList.toggle('hidden');
            
                    // สลับลูกศรขึ้น/ลง
                    if (table.classList.contains('hidden')) {
                        arrow.innerHTML = '&#9660;'; // ลูกศรลง
                    } else {
                        arrow.innerHTML = '&#9650;'; // ลูกศรขึ้น
                    }
                });
            });
        });
    </script>
</body>
</html>
